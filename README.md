# Minihearthstone

As part of our Master 1 of Computer Science module, we developed a simplified version of the game [Hearthstone](https://playhearthstone.com/es-es/).

See [client](https://github.com/R0kshan/minihearthstone/tree/master/code/client) and [server](https://github.com/R0kshan/minihearthstone/tree/master/code/server) code. 

Game client url : <https://minihearthstone-client.herokuapp.com/> (If you receive `ERR_EMPTY_RESPONSE` it could be there's a problem on heroku, you can view it here  : [status.heroku.com](https://status.heroku.com/)).

## Content

* [Prerequisites](https://github.com/R0kshan/minihearthstone#prerequisites)
* [Run the project](https://github.com/R0kshan/minihearthstone#run-project)
* [Run the tests](https://github.com/R0kshan/minihearthstone#run-the-tests)
* [Client side code documentation](https://github.com/R0kshan/minihearthstone/blob/master/README.md#client-side-code-documentation)
* [Server side code documentation](https://github.com/R0kshan/minihearthstone/blob/master/README.md#server-side-code-documentation)
* [Game functionnalities](https://github.com/R0kshan/minihearthstone#game-functionnalities)
* [Images, sounds, voices and music used](https://github.com/R0kshan/minihearthstone#images-sounds-voices-and-music-used)
* [Authors](https://github.com/R0kshan/minihearthstone/blob/master/README.md#authors)

## Prerequisites

* [Gradle](https://gradle.org/install/)
* [node.js](https://nodejs.org/en/) -> version 11.1.0
* [npm](https://www.npmjs.com/) -> 4.2.0
* [Angular](https://github.com/angular/angular-cli/wiki): `npm install -g @angular/cli`

### Libraries needed

#### Module

`npm install --save-dev @angular-devkit/build-angular`

#### *Stomps* and *sockjs*

* `npm install stompjs --save`
* `npm install sockjs-client --save`

#### *Jquery* and *Bootstrap*

* `npm install jquery --save`
* `npm install bootstrap`

#### Font awesome

`npm install --save font-awesome angular-font-awesome`

#### Express and path (used for heroku deployement)

`npm install --save express path`

## Run project

To play the game locally, the client and the server has to be lauched.

To launch the server, go to the [/server](https://github.com/R0kshan/minihearthstone/tree/master/code/server) folder, and run in terminal:

* Windows: `gradle bootRun`
* Linux: `./gradlew bootRun`

To launch the client, go to the [/client](https://github.com/R0kshan/minihearthstone/tree/master/code/client) folder, and run in terminal :
`ng serve`.

To be able to play the game, at least two client are needed. 
To launch 2 clients, in [/client](https://github.com/R0kshan/minihearthstone/tree/master/code/client) folder, start in :

* Terminal 1 : `ng serve --open`
* Terminal 2: `ng serve --open --port 4210`

## Run the tests

### Client side tests

In [/client](https://github.com/R0kshan/minihearthstone/tree/master/code/client) folder run : `ng test --no-watch --code-coverage`

Then open the [coverage.html](https://github.com/R0kshan/minihearthstone/blob/master/code/client/documentation/coverage.html) in : *client/documentation/coverage*

### Run server side tests

In [/server](https://github.com/R0kshan/minihearthstone/tree/master/code/server) folder run :

* Linux : `./gradlew clean build` and `./gradlew cobertura`
* Windows : `gradle clean build` and `gradle cobertura`

## Client side code documentation

See the Angular project documentation [here](https://github.com/R0kshan/minihearthstone/blob/master/code/client/documentation) generated by [Compodoc](https://compodoc.app/)

## Server side code documentation

See the Spring server [Javadoc](https://github.com/R0kshan/minihearthstone/tree/master/code/server/javadoc)

## Game functionnalities

* Find a random match with another play
* Choose your hero among the three choices identically the original hearthstone game : Jaina, Uther and Garrosh
* When you are in game you can :
    * choose a card from hand (servant or spell)
    * attack en enemy servant
    * attack the enemy hero
    * use the hero's special skill to attack
    * open the help modal (on the top right corner of your zone where your hand of cards are)
    * logout
    * quit the game
    * end your turn
    * (i wanted to add this just for fun) chat with the other player (the icon on the top left corner of your zone where your hand of cards are). When you receive a message from the other player you will see a little red exclamation mark next to the icon and here a 'bip' sound.

## Images, sounds, voices and music used

### Images

All the images used from the game come from this website : <https://game-icons.net/>

### Sounds

All sounds effects come from : <https://freesound.org/>

Here's the list of those that I've used :

* [Deadling card](https://freesound.org/people/f4ngy/sounds/240777/)
* [Quick Swhooshing Noise](https://freesound.org/people/FairhavenCollection/sounds/372899/) (I've lowered the frequency of the original sound)
* [SFX magic](https://freesound.org/people/renatalmar/sounds/264981/)
* [Music: Orchestral Victory Fanfare](https://freesound.org/people/Sheyvan/sounds/470083/)
* [Game over](https://freesound.org/people/Leszek_Szary/sounds/133283/)
* [Tic toc tic](https://freesound.org/people/Breviceps/sounds/448081/)
* [hit lid with sledge hammer](https://freesound.org/people/dcolvin/sounds/193896/)

### Voices

The voice that you can here when you hover on the 'speaker' icon on the top right corner of the cards (which explain how to use them) were generated from : <http://www.fromtexttospeech.com/>.

### Music

The background music I've used in the game is called **Atoms and particles** from this site : <https://www.freesfx.co.uk/Category/Technological/231>.

## Authors

### Developers

* [RÃ¸kshan](https://github.com/R0kshan)
    - Initial work on Angular client and Spring server development. Web socket implementation, designed and implemented the project's structure, the classes in the project and implemented the relation between the entities stored in JPA
    - Continued development : correcting bugs and deployment to heroku

* [Thorrigan](https://github.com/Thorrigan) - Initial work on bug corrections and game functionnality improvements

### Testers

* [Flaradr](https://github.com/Flaradr) - Initial work on server side testing
* [LePandaRoox](https://github.com/LePandaRoox) - Initial work on client side testing
